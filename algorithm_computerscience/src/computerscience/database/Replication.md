## 🪞 리플리케이션이란?

---

리플리케이션은 실시간 복제본 데이터베이스 서버를 운용하는 것을 의미한다.

- 기준이 되는 서버를 마스터 서버라고 하고,
- 마스터 서버와 동일한 내용을 갖는 또 다른 서버를 리플리카(Replica)라고 한다.

애플리케이션은 데이터베이스에 SQL 명령을 보내 데이터 삽입, 변경, 삭제를 하게 된다.

마스터 서버는 SQL 명령을 수신하면 SQL 명령을 리플리카 서버에도 동일하게 보내게 된다.

- 이렇게 되면 마스터 서버와 리플리카 서버의 데이터가 동일한 상태로 유지된다.

## 📊 리플리케이션의 목적

---

이러한 데이터베이스 리플리케이션을 하는 이유는 기본적으로 데이터의 안정성을 위한 것이다.

만약, 어떤 원인으로 데이터가 손상되었을 때, 기초적인 대처는 가장 최신의 백업본을 복구하여 사용하는 것이다.

그러나 이러한 백업본을 이용한 대처는 큰 단점이 존재한다.

- 데이터 백업을 주기적이고 자동으로 한다 하더라도 백업된 시간과 장애가 발생한 시간 사이의 데이터 변경 사항들은 모두 소실되게 된다.

하지만 리플리카 서버는 아주 약간의 딜레이가 있지만,

거의 실시간으로 마스터 서버와 동일한 데이터를 갖고 있기 때문에, 장애 복구 시 데이터 소실이 최소화된다.

- 그 이유는 리플리카 서버는 마스터 서버로 승격이 가능하기 때문에,
- 마스터 서버로 승격시켜 기존 마스터 서버를 대체하는 방식으로 복구가 진행된다.

따라서 리플리카 서버를 마스터 서버로 승격한 후,

새로운 마스터 서버에 대한 리플리카 서버를 생성하면 복구가 완료된다.

## 🎮 리플리케이션의 응용

---

리플리카 서버는 기본적으로 읽기 전용으로 운용이 된다.

- 리플리카의 이러한 특성을 활용해 데이터베이스 서버의 부하를 줄이고,
- 데이터베이스를 액세스하는 애플리케이션의 동작 성능을 개선할 수 있다.

따라서 애플리케이션 개발 시, 데이터 액세스 시간이 중요한 읽기 쓰기 SQL 작업은 마스터 서버에서,

데이터의 액세스 시간이 중요하지 않는 읽기 전용 작업은 리플리카 서버에 접속해서 수행하게 된다.

예를 들어, 서비스 애플리케이션은 항상 마스터 서버에서 데이터를 조작하도록 하고,

많은 부하가 유발될 수 있는 관리자 사이트의 특정 내역 조회 기능은 리플리카 데이터베이스 서버로부터 데이터를 가져오도록 하는 것이다.

이렇게 수행할 경우, 큰 규모의 데이터에서 자료를 추출할 때 발생하는 데이터베이스 서버 부하를

리플리카 서버가 대신 받아 처리하기 때문에, 마스터 서버가 받게 되는 부하가 크게 줄어들게 된다.