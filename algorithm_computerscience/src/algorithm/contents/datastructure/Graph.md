# *Graph* 란?

---

그래프는 정점(Vertex)과 간선(Edge)으로 이루어진 자료구조이다.

- 이는 트리와 비슷하지만, 트리는 Acyclic인 반면, 그래프는 Cyclic이다. (사이클이 존재한다.)

즉, 그래프는 각 정점들이 간선들로 연결되어, 연결된 정점 간의 관계를 표현할 수 있는 자료구조이다.

### 그래프의 구조(용어)

---

- 정점(Vertex): 노드를 의미한다.
- 간선(Edge): 각 노드 간 연결된 선을 의미한다. → Link 혹은 Branch 라고도 한다.
- 인접 정점(Adjacent Vertex): 간선 하나만을 통해 바로 연결되어 있는 정점을 의미한다.

**[ 무방향 그래프 ]**

---

- 정점의 차수(Degree): 하나의 정점에 인접한 정점의 수를 의미한다.
    - 무방향 그래프에서 모든 정점 차수의 합은 그래프 전체 간선 수의 2배이다.

**[ 방향 그래프 ]**

---

- 진입 차수(In-Degree): 방향 그래프에서 각 정점으로 외부에서 들어오는 간선의 수를 의미한다.
- 진출 차수(Out-Degree): 방향 그래프에서 각 정점에서 외부로 나가는 간선의 수를 의미한다.

**[ 경로 ]**

---

- 경로 길이(Path Length): 경로를 구성하는데 사용된 간선의 수를 의미한다.
- 단순 경로(Simple Path): 경로 중에서 반복되는 정점이 없는 경우를 의미한다.
- 사이클(Cycle): 단순 경로로 한 바퀴 돌아서 다시 같은 노드로 돌아오는 경우를 의미한다.

## 그래프와 트리 비교

---

|  | 그래프                                                | 트리                                            |
| --- |----------------------------------------------------|-----------------------------------------------|
| 정의 | 노드와 간선을 하나로 모아놓은 자료구조                              | 그래프의 한 종류 (방향성이 있는 비순환 그래프)                   |
| 방향성 | 방향 그래프, 무방향 그래프                                    | 방향 그래프                                        |
| 사이클 | Cyclic <br> 순환 그래프(Cyclic), 비순환 그래프 모두 가능(Acyclic) | Acyclic <br> 비순환 그래프(Acyclic Graph)           |
| 루트 노드 | 루트 노드의 개념이 없음                                      | 가장 위에 하나의 루트 노드가 존재                           |
| 부모-자식 | 부모-자식의 개념이 없음                                      | 부모-자식 관계로 이루어짐 <br> 모든 자식 노드는 한 개의 부모 노드만을 가짐 |
| 모델 | 네트워크 모델                                            | 계층 모델                                         |
| 순회 | DFS, BFS                                           | Pre-order, In-order, Post-order / Level-order |
| 간선의 수 | 그래프마다 다름                                           | 노드가 N개인 트리는 항상 N-1개의 간선을 가짐                   |
| 경로 | 2개 이상의 경로 가능                                       | 두 노드 간의 경로는 1개만 가질 수 있음                       |

## 그래프의 종류

### 1. 무방향 그래프(Undirected Graph)

---

- 두 정점을 연결하는 간선에 방향이 없는 그래프이다.
- 정점 A - B 간선의 표현: (A, B) = (B, A)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/c33fee58-8f40-4523-b222-c56099de30a9/3290341d-88da-4a7e-95ae-c10d5f9dec39/Untitled.png)

### 2. 방향 그래프(Directed Graph)

---

- 두 정점을 연결하는 간선에 방향이 있는 그래프이다.
- 지정된 방향으로만 이동이 가능하다.
- 정점 A - B 간선의 표현: <A, B> ≠ <B, A>

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/c33fee58-8f40-4523-b222-c56099de30a9/3e487ae5-1a65-4e2f-9f93-46fb3da8c600/Untitled.png)

### 3. 완전 그래프(Complete Graph)

---

- 모든 정점이 서로 연결되어 최대 간선 수를 갖는 그래프이다.
- 정점이 N개일 경우, 간선의 수는 N(N-1) / 2 개를 갖는다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/c33fee58-8f40-4523-b222-c56099de30a9/9a626f63-aefd-48dc-9336-8c4259851616/Untitled.png)

### 4. 가중치 그래프(Weight Graph)

---

- 정점을 연결하는 간선에 가중치를 할당한 그래프이다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/c33fee58-8f40-4523-b222-c56099de30a9/9dd1fef0-df53-4195-93d2-7a76760d1112/Untitled.png)

## 그래프 탐색

### 1. DFS: 깊이 우선 탐색(Depth-First Search)

---

- 그래프의 모든 노드를 방문하는 완전 탐색 방식이다.
- 임의의 시작 노드에서 출발하여 한쪽 분기를 정해서 최대 깊이까지 탐색을 마친 후, 다른쪽 분기로 이동하여 다시 탐색을 수행하는 알고리즘이다.
- 재귀 함수 또는 Stack 자료구조를 이용한다.

### 2. BFS: 너비 우선 탐색(Breadth-First Search)

---

- 그래프의 모든 노드를 방문하는 완전 탐색 방식이다.
- 임의의 시작 노드에서 시작 노드를 기준으로 가장 가까운 노드를 먼저 방문하면서 탐색하는 알고리즘이다.
- FIFO 탐색으로 Queue 자료구조를 이용한다.
- 목표 노드에 도착하는 경로가 여러 개일 경우, 최단 경로를 보장한다.

## 그래프의 구현

### 인접 행렬(Adjacency Matrix)

---

- 2차원 배열을 이용한다.
- 노드의 수가 N개 일 때, N x N의 int 행렬 또는 boolean 행렬을 만들어서, 연결 상태 값을 설정한다.
- matrix[i][j] == true라면, i → j 로의 간선이 있다는 의미이다.
    - int 행렬의 경우 1 = true, 0 = false 를 의미한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/c33fee58-8f40-4523-b222-c56099de30a9/5e5e13ff-4f2f-4163-977f-51e94c3bb640/Untitled.png)

**[ 인접 행렬 방식의 특징 ]**

---

- 배열로 구성되어 있기 때문에, 간선 정보 조회가 빨라 O(1)의 시간 복잡도를 갖는다.
- 간선의 개수와 무관하게 항상 $N^2$개의 메모리 공간을 차지한다.
- 인접 행렬에서 인접한 노드를 찾기 위해서는 모든 노드를 전부 순회해야 한다.

### 인접 리스트(Adjacency List)

---

인접 리스트로 그래프를 표현하는 것이 일반적인 방법이다.

- 연결 리스트를 이용하여 모든 정점을 인접 리스트에 저장한다.
- ArrayList 형 배열을 만들어서 연결된 노드를 각각 저장한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/c33fee58-8f40-4523-b222-c56099de30a9/5eacb7c9-2e33-4be1-9003-dc56b48a76f7/Untitled.png)

**[ 인접 리스트 방식의 특징 ]**

---

- 연결된 노드의 개수와 딱 맞는 크기로 리스트를 만들기 때문에 메모리 사용량이 상대적으로 적다.
- 노드의 추가 / 삭제가 빠르다.
- 간선 정보 확인이 상대적으로 오래 걸린다.

### 인접 행렬과 인접 리스트 중 선택 방법

**[ 인접 행렬 ]**

---

- 그래프 내에 적은 숫자의 간선만을 갖는 희소 그래프(Sparse Graph)의 경우에 적합하다.
    - 즉, 노드의 개수가 적고, 간선의 수가 많을 때 적합하다.

**[ 인접 리스트 ]**

---

- 그래프에 간선이 많이 존재하는 밀집 그래프(Dense Graph)의 경우에 적합하다.
    - 즉, 노드의 개수가 많고, 간선의 수가 적을 때 적합하다.